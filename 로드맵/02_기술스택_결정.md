# 기술 스택 결정

## 선정 기준
1. **개발 속도**: 빠른 MVP 구현
2. **유지보수성**: 클린 코드, 모듈화
3. **확장성**: 향후 기능 추가 용이
4. **비용**: 초기 비용 최소화
5. **기존 코드 호환**: 상세페이지 빌더와 통합 가능

---

## 프론트엔드

### 선택: React + TypeScript + TailwindCSS

| 기술 | 버전 | 선정 이유 |
|------|------|----------|
| React | 18.x | 컴포넌트 기반, 생태계, 기존 빌더와 호환 |
| TypeScript | 5.x | 타입 안전성, 개발 생산성 |
| TailwindCSS | 3.x | 빠른 스타일링, 일관된 디자인 |
| Vite | 5.x | 빠른 빌드, HMR |

### 상태 관리
| 기술 | 용도 |
|------|------|
| Zustand | 전역 상태 (사용자, 대화 기록) |
| React Query | 서버 상태 (API 캐싱) |

### UI 컴포넌트
| 기술 | 용도 |
|------|------|
| Headless UI | 접근성 보장 컴포넌트 |
| React Hot Toast | 알림/토스트 |
| React Hook Form | 폼 관리 |

---

## 백엔드

### 선택: Supabase (BaaS)

| 기능 | Supabase 서비스 | 설명 |
|------|----------------|------|
| 인증 | Auth | 이메일 인증, 수동 승인 |
| 데이터베이스 | PostgreSQL | 사용자, 프로젝트, 대화 기록 |
| 스토리지 | Storage | 이미지 업로드 |
| 실시간 | Realtime | 실시간 업데이트 (옵션) |
| Edge Functions | Functions | 서버리스 API |

### 선정 이유
- **무료 티어**: 초기 비용 없음
- **빠른 개발**: 인증/DB/스토리지 통합
- **확장성**: PostgreSQL 기반 확장 가능
- **Row Level Security**: 데이터 보안

---

## AI 연동

### 선택: Claude API (Anthropic)

| 모델 | 용도 | 선정 이유 |
|------|------|----------|
| claude-3-5-sonnet-20241022 | AI 기획 도우미 | 속도/비용 균형 |
| claude-3-5-sonnet-20241022 | 마그네틱 세일즈 챗봇 | 고품질 대화 |
| claude-3-5-sonnet-20241022 | 랜딩페이지 생성 | HTML 생성 능력 |

### 구현 방식
```
프론트엔드 → Supabase Edge Function → Claude API
```

**Edge Function 역할:**
- API 키 보호
- 시스템 프롬프트 관리
- 요청/응답 로깅
- 토큰 사용량 추적

---

## 배포

### 프론트엔드: Vercel
| 장점 |
|------|
| 무료 호스팅 |
| 자동 배포 (Git 연동) |
| Edge 네트워크 |
| 프리뷰 배포 |

### 백엔드: Supabase
| 장점 |
|------|
| 관리형 PostgreSQL |
| 자동 백업 |
| 글로벌 CDN |

### 도메인
- 초기: Vercel 기본 도메인 사용
- 추후: 커스텀 도메인 연결

---

## 개발 도구

### 필수
| 도구 | 용도 |
|------|------|
| ESLint | 코드 품질 |
| Prettier | 코드 포맷팅 |
| Husky | Git 훅 |
| TypeScript | 타입 체크 |

### 테스트
| 도구 | 용도 |
|------|------|
| Vitest | 단위 테스트 |
| Testing Library | 컴포넌트 테스트 |
| Playwright | E2E 테스트 (P2) |

---

## 프로젝트 구조 (예정)

```
magnetic-sales-webapp/
├── src/
│   ├── components/
│   │   ├── auth/         # 인증 관련
│   │   ├── chat/         # AI 채팅
│   │   ├── builder/      # 랜딩페이지 빌더
│   │   ├── dashboard/    # 대시보드
│   │   └── ui/           # 공통 UI
│   ├── hooks/            # 커스텀 훅
│   ├── services/         # API 서비스
│   ├── stores/           # Zustand 스토어
│   ├── types/            # 타입 정의
│   ├── utils/            # 유틸리티
│   ├── pages/            # 페이지 컴포넌트
│   └── App.tsx
├── supabase/
│   ├── functions/        # Edge Functions
│   ├── migrations/       # DB 마이그레이션
│   └── seed.sql          # 초기 데이터
├── public/
└── tests/
```

---

## 의사결정 로그

| 날짜 | 결정 | 대안 | 선정 이유 |
|------|------|------|----------|
| 2025-12-15 | Supabase | Firebase | PostgreSQL, RLS, 무료 티어 |
| 2025-12-15 | Claude API | GPT-4 | 요청자 요구사항, 품질 |
| 2025-12-15 | Zustand | Redux | 단순성, 보일러플레이트 감소 |
| 2025-12-15 | Vite | Next.js | SPA로 충분, 빠른 개발 |
