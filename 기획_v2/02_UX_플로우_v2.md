# ë§ˆê·¸ë„¤í‹± ì„¸ì¼ì¦ˆ ì›¹ì•± - UX í”Œë¡œìš° v2

## ë¬¸ì„œ ì •ë³´
| í•­ëª© | ë‚´ìš© |
|------|------|
| ë²„ì „ | 2.0 |
| ì‘ì„±ì¼ | 2025-01-15 |
| ì´ì „ ë²„ì „ | 01_UX_í”Œë¡œìš°.md (v1) |
| ë³€ê²½ ì‚¬ìœ  | Red Team ë³´ì•ˆ ë¦¬ë·° ë°˜ì˜ |

---

## v1 â†’ v2 ì£¼ìš” ë³€ê²½ ì‚¬í•­

| ì˜ì—­ | v1 | v2 | ë³€ê²½ ì‚¬ìœ  |
|------|----|----|-----------|
| ì„¸ì…˜ ê´€ë¦¬ | ìƒíƒœ ë³€ê²½ ë¬´ê´€ | ìŠ¹ì¸ ìƒíƒœ ë³€ê²½ ì‹œ ê°•ì œ ë¡œê·¸ì•„ì›ƒ | CRITICAL-UX-001 |
| ì‚­ì œ í”Œë¡œìš° | ì¦‰ì‹œ ì‚­ì œ | Soft Delete + ë³µêµ¬ UI | CRITICAL-DB-001 |
| ì—ëŸ¬ ë©”ì‹œì§€ | ìƒì„¸ ë…¸ì¶œ | ì¼ë°˜í™”ëœ ë©”ì‹œì§€ + ë¡œê¹… | HIGH-SEC-004 |
| íƒ€ì„ì•„ì›ƒ | 5ë¶„ ê³ ì • | 90ì´ˆ ê¸°ë³¸ + ë™ì  í™•ì¥ | MEDIUM-UX-003 |
| ë¡œë”© ìƒíƒœ | ë‹¨ìˆœ ìŠ¤í”¼ë„ˆ | ì§„í–‰ë¥  + ì˜ˆìƒ ì‹œê°„ | MEDIUM-UX-002 |

---

## 1. ì „ì²´ ì‚¬ìš©ì ì—¬ì • ë§µ

### 1.1 Journey Map (v2)

```mermaid
journey
    title ë§ˆê·¸ë„¤í‹± ì„¸ì¼ì¦ˆ ì›¹ì•± ì‚¬ìš©ì ì—¬ì • v2
    section ë°œê²¬
      ê´‘ê³ /ê²€ìƒ‰ìœ¼ë¡œ ìœ ì…: 5: ë°©ë¬¸ì
      ëœë”©í˜ì´ì§€ í™•ì¸: 4: ë°©ë¬¸ì
    section ê°€ì…
      íšŒì›ê°€ì… ì‹œë„: 3: ë°©ë¬¸ì
      ì´ë©”ì¼ ì¸ì¦: 4: ì˜ˆë¹„íšŒì›
      ê´€ë¦¬ì ìŠ¹ì¸ ëŒ€ê¸°: 2: ì˜ˆë¹„íšŒì›
      ìŠ¹ì¸ ì™„ë£Œ ì•Œë¦¼: 5: íšŒì›
    section ì˜¨ë³´ë”©
      ì²« ë¡œê·¸ì¸: 4: íšŒì›
      ì„œë¹„ìŠ¤ ì†Œê°œ í™•ì¸: 4: íšŒì›
      ë¬´ë£Œ ì²´í—˜ ì‹œì‘: 5: íšŒì›
    section í•µì‹¬ ì‚¬ìš©
      40ê°œ ì§ˆë¬¸ ë‹µë³€: 3: íšŒì›
      AI ëœë”©í˜ì´ì§€ ìƒì„±: 5: íšŒì›
      ê²°ê³¼ë¬¼ í¸ì§‘: 4: íšŒì›
      ë¯¸ë¦¬ë³´ê¸°/ë°°í¬: 5: íšŒì›
    section ì¬ë°©ë¬¸
      ëŒ€ì‹œë³´ë“œ í™•ì¸: 4: íšŒì›
      ìˆ˜ì •/ì¬ìƒì„±: 4: íšŒì›
      ìš”ê¸ˆì œ ì—…ê·¸ë ˆì´ë“œ: 3: ìœ ë£ŒíšŒì›
```

### 1.2 ì‚¬ìš©ì ìƒíƒœ ë‹¤ì´ì–´ê·¸ë¨ (v2)

```mermaid
stateDiagram-v2
    [*] --> ë°©ë¬¸ì: ì‚¬ì´íŠ¸ ì ‘ì†
    ë°©ë¬¸ì --> íšŒì›ê°€ì…ì¤‘: ê°€ì… ì‹œì‘
    íšŒì›ê°€ì…ì¤‘ --> ì´ë©”ì¼ë¯¸ì¸ì¦: ê°€ì… ì™„ë£Œ
    ì´ë©”ì¼ë¯¸ì¸ì¦ --> ìŠ¹ì¸ëŒ€ê¸°: ì´ë©”ì¼ ì¸ì¦
    ìŠ¹ì¸ëŒ€ê¸° --> í™œì„±íšŒì›: ê´€ë¦¬ì ìŠ¹ì¸
    ìŠ¹ì¸ëŒ€ê¸° --> ìŠ¹ì¸ê±°ë¶€: ê´€ë¦¬ì ê±°ë¶€

    í™œì„±íšŒì› --> ê°•ì œë¡œê·¸ì•„ì›ƒ: ìŠ¹ì¸ ìƒíƒœ ë³€ê²½
    ê°•ì œë¡œê·¸ì•„ì›ƒ --> ë°©ë¬¸ì: ì¬ë¡œê·¸ì¸ í•„ìš”

    í™œì„±íšŒì› --> ì •ì§€íšŒì›: ì´ìš© ì •ì§€
    ì •ì§€íšŒì› --> í™œì„±íšŒì›: ì •ì§€ í•´ì œ

    í™œì„±íšŒì› --> íƒˆí‡´íšŒì›: íšŒì› íƒˆí‡´
    íƒˆí‡´íšŒì› --> [*]: 30ì¼ í›„ ì™„ì „ ì‚­ì œ

    note right of ê°•ì œë¡œê·¸ì•„ì›ƒ
        v2 ì¶”ê°€: ìŠ¹ì¸ ìƒíƒœ ë³€ê²½ ì‹œ
        ëª¨ë“  ì„¸ì…˜ ì¦‰ì‹œ ë¬´íš¨í™”
    end note
```

---

## 2. ì¸ì¦ í”Œë¡œìš° (v2)

### 2.1 íšŒì›ê°€ì… í”Œë¡œìš°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        íšŒì›ê°€ì… í˜ì´ì§€                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  ë§ˆê·¸ë„¤í‹± ì„¸ì¼ì¦ˆ ì›¹ì•±                                      â”‚   â”‚
â”‚  â”‚  AIë¡œ ì „í™˜ìœ¨ ë†’ì€ ëœë”©í˜ì´ì§€ë¥¼ ë§Œë“œì„¸ìš”                     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  ì´ë©”ì¼ *                                                 â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚   â”‚
â”‚  â”‚  â”‚ example@email.com                               â”‚    â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚  ë¹„ë°€ë²ˆí˜¸ *                                              â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚   â”‚
â”‚  â”‚  â”‚ â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢                                    â”‚    â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚   â”‚
â”‚  â”‚  âœ“ 8ì ì´ìƒ  âœ“ ì˜ë¬¸+ìˆ«ì  â—‹ íŠ¹ìˆ˜ë¬¸ì í¬í•¨               â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚  ë¹„ë°€ë²ˆí˜¸ í™•ì¸ *                                         â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚   â”‚
â”‚  â”‚  â”‚ â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢                                    â”‚    â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚  ì´ë¦„ *                                                  â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚   â”‚
â”‚  â”‚  â”‚ í™ê¸¸ë™                                           â”‚    â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚  â˜‘ ì„œë¹„ìŠ¤ ì´ìš©ì•½ê´€ì— ë™ì˜í•©ë‹ˆë‹¤ (í•„ìˆ˜)                    â”‚   â”‚
â”‚  â”‚  â˜‘ ê°œì¸ì •ë³´ ì²˜ë¦¬ë°©ì¹¨ì— ë™ì˜í•©ë‹ˆë‹¤ (í•„ìˆ˜)                   â”‚   â”‚
â”‚  â”‚  â˜ ë§ˆì¼€íŒ… ì •ë³´ ìˆ˜ì‹ ì— ë™ì˜í•©ë‹ˆë‹¤ (ì„ íƒ)                    â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚   â”‚
â”‚  â”‚  â”‚              íšŒì›ê°€ì…                            â”‚    â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚  ì´ë¯¸ ê³„ì •ì´ ìˆìœ¼ì‹ ê°€ìš”? [ë¡œê·¸ì¸]                          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 ë¡œê·¸ì¸ í”Œë¡œìš° (v2 - HttpOnly Cookie)

```mermaid
sequenceDiagram
    participant U as ì‚¬ìš©ì
    participant C as í´ë¼ì´ì–¸íŠ¸
    participant A as API Server
    participant S as Supabase Auth
    participant DB as PostgreSQL

    U->>C: ì´ë©”ì¼/ë¹„ë°€ë²ˆí˜¸ ì…ë ¥
    C->>A: POST /api/auth/login
    A->>S: signInWithPassword()
    S-->>A: JWT (Access Token)

    A->>DB: ìŠ¹ì¸ ìƒíƒœ í™•ì¸
    DB-->>A: is_approved = true

    A->>DB: Refresh Token ì €ì¥
    Note over DB: refresh_tokens í…Œì´ë¸”ì—<br/>token_hash ì €ì¥

    A-->>C: Set-Cookie: refresh_token (HttpOnly)
    Note over C: Access Tokenì€<br/>ë©”ëª¨ë¦¬ì—ë§Œ ì €ì¥

    C-->>U: ëŒ€ì‹œë³´ë“œë¡œ ì´ë™

    Note over C,A: v2 ë³€ê²½: Refresh Tokenì„<br/>HttpOnly Cookieë¡œ ì „ì†¡
```

### 2.3 ì„¸ì…˜ ë¬´íš¨í™” í”Œë¡œìš° (v2 ì‹ ê·œ)

```mermaid
sequenceDiagram
    participant Admin as ê´€ë¦¬ì
    participant DB as PostgreSQL
    participant Trigger as DB Trigger
    participant Sessions as user_sessions
    participant User as ì‚¬ìš©ì ë¸Œë¼ìš°ì €

    Admin->>DB: UPDATE profiles SET is_approved = false
    DB->>Trigger: on_approval_change íŠ¸ë¦¬ê±° ì‹¤í–‰
    Trigger->>Sessions: í•´ë‹¹ user_id ì„¸ì…˜ ì „ì²´ ë¬´íš¨í™”
    Note over Sessions: invalidated_at = NOW()

    User->>DB: API ìš”ì²­ (ê¸°ì¡´ í† í° ì‚¬ìš©)
    DB-->>User: 401 Unauthorized
    Note over User: "ì„¸ì…˜ì´ ë§Œë£Œë˜ì—ˆìŠµë‹ˆë‹¤.<br/>ë‹¤ì‹œ ë¡œê·¸ì¸í•´ì£¼ì„¸ìš”."
    User->>User: ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸
```

### 2.4 Refresh Token Rotation í”Œë¡œìš° (v2 ì‹ ê·œ)

```mermaid
sequenceDiagram
    participant C as í´ë¼ì´ì–¸íŠ¸
    participant A as API Server
    participant DB as refresh_tokens

    C->>A: POST /api/auth/refresh<br/>(Cookie: refresh_token)

    A->>DB: í† í° í•´ì‹œë¡œ ì¡°íšŒ
    alt í† í°ì´ ì´ë¯¸ íê¸°ë¨ (revoked=true)
        DB-->>A: revoked = true ë°˜í™˜
        A->>DB: í•´ë‹¹ user_idì˜ ëª¨ë“  í† í° íê¸°
        Note over DB: í† í° ì¬ì‚¬ìš© ê³µê²© ê°ì§€
        A-->>C: 401 + "ì¬ë¡œê·¸ì¸ í•„ìš”"
    else ìœ íš¨í•œ í† í°
        DB-->>A: í† í° ì •ë³´ ë°˜í™˜
        A->>DB: ê¸°ì¡´ í† í° íê¸° (revoked=true)
        A->>DB: ìƒˆ Refresh Token ì €ì¥
        A->>A: ìƒˆ Access Token ìƒì„±
        A-->>C: Set-Cookie: new_refresh_token<br/>+ Access Token
    end
```

---

## 3. AI ìƒì„± í”Œë¡œìš° (v2)

### 3.1 40ê°œ ì§ˆë¬¸ ë‹µë³€ í”Œë¡œìš°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     ì§ˆë¬¸ ë‹µë³€ ì¸í„°í˜ì´ìŠ¤                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ì§„í–‰ë¥ : â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 15/40 (37.5%)                     â”‚
â”‚                                                                 â”‚
â”‚  ì¹´í…Œê³ ë¦¬: ê³ ê° í˜ë¥´ì†Œë‚˜ (4/8)                                    â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Q15. íƒ€ê²Ÿ ê³ ê°ì´ ê°€ì¥ ë‘ë ¤ì›Œí•˜ëŠ” ê²ƒì€ ë¬´ì—‡ì¸ê°€ìš”?         â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚  ì´ ì§ˆë¬¸ì´ ì¤‘ìš”í•œ ì´ìœ :                                   â”‚   â”‚
â”‚  â”‚  ê³ ê°ì˜ ë‘ë ¤ì›€ì„ ì´í•´í•˜ë©´ ë” ê°•ë ¥í•œ ë§ˆê·¸ë„¤í‹± ë©”ì‹œì§€ë¥¼        â”‚   â”‚
â”‚  â”‚  ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.                                        â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚  ì˜ˆì‹œ ë‹µë³€:                                               â”‚   â”‚
â”‚  â”‚  "ì‹œê°„ê³¼ ëˆì„ íˆ¬ìí–ˆëŠ”ë° ê²°ê³¼ê°€ ì—†ì„ê¹Œë´ ë‘ë ¤ì›Œí•©ë‹ˆë‹¤"       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚  ì‹¤íŒ¨ì— ëŒ€í•œ ë‘ë ¤ì›€ì´ ê°€ì¥ í½ë‹ˆë‹¤. íŠ¹íˆ ì£¼ë³€ ì‚¬ëŒë“¤ì—ê²Œ     â”‚   â”‚
â”‚  â”‚  "ê·¸ê²ƒ ë´, ì•ˆ ë  ì¤„ ì•Œì•˜ì–´"ë¼ëŠ” ë§ì„ ë“£ëŠ” ê²ƒì„ ë‘ë ¤ì›Œ       â”‚   â”‚
â”‚  â”‚  í•©ë‹ˆë‹¤.                                                 â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚                                              [156/500ì] â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   ì´ì „   â”‚  â”‚   ì €ì¥   â”‚  â”‚         ë‹¤ìŒ ì§ˆë¬¸            â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                 â”‚
â”‚  [ì„ì‹œì €ì¥ë¨: 2ë¶„ ì „] â”€ ìë™ì €ì¥ í™œì„±í™”                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 AI ìƒì„± ëŒ€ê¸° í™”ë©´ (v2 - 90ì´ˆ íƒ€ì„ì•„ì›ƒ)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     AI ëœë”©í˜ì´ì§€ ìƒì„± ì¤‘                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚                         â—‰â—‰â—‰                                    â”‚
â”‚                      â—‰     â—‰                                   â”‚
â”‚                     â—‰   AI  â—‰                                  â”‚
â”‚                      â—‰     â—‰                                   â”‚
â”‚                         â—‰â—‰â—‰                                    â”‚
â”‚                                                                 â”‚
â”‚              ë§ˆê·¸ë„¤í‹± ëœë”©í˜ì´ì§€ë¥¼ ìƒì„±í•˜ê³  ìˆìŠµë‹ˆë‹¤               â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  60%          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â”‚  í˜„ì¬ ë‹¨ê³„: ë§ˆê·¸ë„¤í‹± í—¤ë“œë¼ì¸ ìµœì í™” ì¤‘...                         â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  ì˜ˆìƒ ë‚¨ì€ ì‹œê°„: ì•½ 35ì´ˆ                                  â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚  âœ“ ê³ ê° í˜ë¥´ì†Œë‚˜ ë¶„ì„ ì™„ë£Œ                                â”‚   â”‚
â”‚  â”‚  âœ“ DESIRE ê³µì‹ ì ìš© ì™„ë£Œ                                 â”‚   â”‚
â”‚  â”‚  â—‰ ë§ˆê·¸ë„¤í‹± í—¤ë“œë¼ì¸ ìƒì„± ì¤‘                              â”‚   â”‚
â”‚  â”‚  â—‹ Triple-Magnetic ì‹œìŠ¤í…œ ì ìš©                           â”‚   â”‚
â”‚  â”‚  â—‹ ìµœì¢… ì»¨í…ì¸  ì¡°í•©                                      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â”‚  â“˜ ë³µì¡í•œ ë‚´ìš©ì€ ìµœëŒ€ 90ì´ˆê¹Œì§€ ì†Œìš”ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤                 â”‚
â”‚                                                                 â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚              â”‚        ìƒì„± ì·¨ì†Œ           â”‚                    â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.3 íƒ€ì„ì•„ì›ƒ ì²˜ë¦¬ (v2 ì‹ ê·œ)

```mermaid
sequenceDiagram
    participant U as ì‚¬ìš©ì
    participant C as í´ë¼ì´ì–¸íŠ¸
    participant A as API Server
    participant AI as Claude API

    U->>C: ìƒì„± ë²„íŠ¼ í´ë¦­
    C->>A: POST /api/ai/generate

    Note over C: ì´ˆê¸° íƒ€ì„ì•„ì›ƒ: 90ì´ˆ

    A->>AI: Claude API í˜¸ì¶œ

    loop ë§¤ 10ì´ˆë§ˆë‹¤
        A-->>C: SSE: progress update
        C->>C: íƒ€ì„ì•„ì›ƒ ì—°ì¥ (ìµœëŒ€ 90ì´ˆ ìœ ì§€)
    end

    alt 90ì´ˆ ì´ˆê³¼ (progress ì—†ìŒ)
        C->>C: íƒ€ì„ì•„ì›ƒ ê²½ê³  í‘œì‹œ
        C->>U: "ìƒì„±ì´ ì§€ì—°ë˜ê³  ìˆìŠµë‹ˆë‹¤.<br/>ê³„ì† ê¸°ë‹¤ë¦¬ì‹œê² ìŠµë‹ˆê¹Œ?"
        alt ì‚¬ìš©ìê°€ ì·¨ì†Œ
            U->>C: ì·¨ì†Œ í´ë¦­
            C->>A: ìš”ì²­ ì¤‘ë‹¨
        else ì‚¬ìš©ìê°€ ëŒ€ê¸°
            U->>C: ê³„ì† ëŒ€ê¸°
            C->>C: íƒ€ì„ì•„ì›ƒ 30ì´ˆ ì¶”ê°€
        end
    else ì •ìƒ ì™„ë£Œ
        AI-->>A: ìƒì„± ê²°ê³¼
        A-->>C: 200 OK + ê²°ê³¼
        C-->>U: ê²°ê³¼ í™”ë©´ìœ¼ë¡œ ì´ë™
    end
```

---

## 4. ëœë”©í˜ì´ì§€ ê´€ë¦¬ í”Œë¡œìš° (v2)

### 4.1 ëŒ€ì‹œë³´ë“œ (v2 - Soft Delete ë°˜ì˜)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ë§ˆê·¸ë„¤í‹± ì„¸ì¼ì¦ˆ                      [í† í°: 85,420/100,000]     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  ë‚´ ëœë”©í˜ì´ì§€ (2/3)                    [+ ìƒˆ ëœë”©í˜ì´ì§€ ë§Œë“¤ê¸°]  â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  ğŸ“„ 1ì¸ ì½”ì¹­ ë¹„ì¦ˆë‹ˆìŠ¤ ëŸ°ì¹­ ê°€ì´ë“œ                         â”‚   â”‚
â”‚  â”‚  ìƒì„±ì¼: 2025-01-10  |  ìˆ˜ì •ì¼: 2025-01-14              â”‚   â”‚
â”‚  â”‚  ìƒíƒœ: â— ë°°í¬ë¨                                          â”‚   â”‚
â”‚  â”‚  ì¡°íšŒìˆ˜: 1,234  |  ì „í™˜ìœ¨: 3.2%                          â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚  [í¸ì§‘]  [ë¯¸ë¦¬ë³´ê¸°]  [URL ë³µì‚¬]  [í†µê³„]  [ì‚­ì œ]          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  ğŸ“„ ì˜¨ë¼ì¸ ê°•ì˜ íŒë§¤ í˜ì´ì§€                               â”‚   â”‚
â”‚  â”‚  ìƒì„±ì¼: 2025-01-08  |  ìˆ˜ì •ì¼: 2025-01-08              â”‚   â”‚
â”‚  â”‚  ìƒíƒœ: â—‹ ì´ˆì•ˆ                                           â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚  [í¸ì§‘]  [ë¯¸ë¦¬ë³´ê¸°]  [ë°°í¬í•˜ê¸°]  [ì‚­ì œ]                   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                                                 â”‚
â”‚  ğŸ—‘ï¸ ìµœê·¼ ì‚­ì œë¨ (1ê°œ) - 30ì¼ í›„ ì˜êµ¬ ì‚­ì œ                       â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  ğŸ“„ í…ŒìŠ¤íŠ¸ ëœë”©í˜ì´ì§€ (ì‚­ì œë¨)                            â”‚   â”‚
â”‚  â”‚  ì‚­ì œì¼: 2025-01-12  |  ë‚¨ì€ ê¸°ê°„: 28ì¼                  â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚  [ë³µêµ¬í•˜ê¸°]  [ì˜êµ¬ ì‚­ì œ]                                  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 ì‚­ì œ í™•ì¸ ëª¨ë‹¬ (v2 ì‹ ê·œ)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     ëœë”©í˜ì´ì§€ ì‚­ì œ                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  âš ï¸ "1ì¸ ì½”ì¹­ ë¹„ì¦ˆë‹ˆìŠ¤ ëŸ°ì¹­ ê°€ì´ë“œ"ë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?           â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  â€¢ ì‚­ì œëœ ëœë”©í˜ì´ì§€ëŠ” 30ì¼ê°„ ë³µêµ¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤           â”‚   â”‚
â”‚  â”‚  â€¢ 30ì¼ í›„ì—ëŠ” ì˜êµ¬ì ìœ¼ë¡œ ì‚­ì œë©ë‹ˆë‹¤                      â”‚   â”‚
â”‚  â”‚  â€¢ ë°°í¬ëœ URLì€ ì¦‰ì‹œ ë¹„í™œì„±í™”ë©ë‹ˆë‹¤                       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â”‚           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚           â”‚   ì·¨ì†Œ    â”‚    â”‚    ì‚­ì œí•˜ê¸°        â”‚             â”‚
â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.3 ë³µêµ¬ í”Œë¡œìš° ë‹¤ì´ì–´ê·¸ë¨

```mermaid
sequenceDiagram
    participant U as ì‚¬ìš©ì
    participant C as í´ë¼ì´ì–¸íŠ¸
    participant A as API Server
    participant DB as PostgreSQL

    U->>C: ì‚­ì œ ë²„íŠ¼ í´ë¦­
    C->>C: ì‚­ì œ í™•ì¸ ëª¨ë‹¬ í‘œì‹œ
    U->>C: ì‚­ì œ í™•ì¸

    C->>A: DELETE /api/lp/:id
    A->>DB: UPDATE landing_pages<br/>SET deleted_at = NOW()
    Note over DB: Soft Delete<br/>(ì‹¤ì œ ì‚­ì œ ì•„ë‹˜)
    DB-->>A: ì„±ê³µ
    A-->>C: 200 OK
    C-->>U: "ì‚­ì œë¨" ì„¹ì…˜ìœ¼ë¡œ ì´ë™

    Note over U: 30ì¼ ì´ë‚´

    U->>C: ë³µêµ¬ ë²„íŠ¼ í´ë¦­
    C->>A: POST /api/lp/:id/restore
    A->>DB: UPDATE landing_pages<br/>SET deleted_at = NULL
    DB-->>A: ì„±ê³µ
    A-->>C: 200 OK
    C-->>U: ëª©ë¡ìœ¼ë¡œ ë³µêµ¬ë¨
```

---

## 5. ì—ëŸ¬ ì²˜ë¦¬ (v2)

### 5.1 ì—ëŸ¬ ë©”ì‹œì§€ ê°€ì´ë“œë¼ì¸ (v2 - ì¼ë°˜í™”)

| ë‚´ë¶€ ì—ëŸ¬ | v1 ì‚¬ìš©ì ë©”ì‹œì§€ | v2 ì‚¬ìš©ì ë©”ì‹œì§€ | ë³€ê²½ ì‚¬ìœ  |
|----------|-----------------|-----------------|-----------|
| DB Connection Failed | ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì‹¤íŒ¨ | ì„œë¹„ìŠ¤ ì—°ê²°ì— ë¬¸ì œê°€ ìˆìŠµë‹ˆë‹¤ | ë‚´ë¶€ êµ¬ì¡° ë…¸ì¶œ ë°©ì§€ |
| Invalid JWT | JWT í† í°ì´ ìœ íš¨í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤ | ì„¸ì…˜ì´ ë§Œë£Œë˜ì—ˆìŠµë‹ˆë‹¤ | í† í° êµ¬ì¡° ë…¸ì¶œ ë°©ì§€ |
| RLS Policy Violation | RLS ì •ì±… ìœ„ë°˜ | ì ‘ê·¼ ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤ | ë³´ì•ˆ ì •ì±… ë…¸ì¶œ ë°©ì§€ |
| Rate Limit Exceeded | rate_limits í…Œì´ë¸” ì´ˆê³¼ | ìš”ì²­ì´ ë„ˆë¬´ ë§ìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš” | êµ¬í˜„ ìƒì„¸ ë…¸ì¶œ ë°©ì§€ |
| Token Quota Exceeded | daily_tokens í•œë„ ì´ˆê³¼ | ì˜¤ëŠ˜ì˜ ì‚¬ìš©ëŸ‰ì„ ëª¨ë‘ ì†Œì§„í–ˆìŠµë‹ˆë‹¤ | ì¼ê´€ëœ ìš©ì–´ ì‚¬ìš© |

### 5.2 ì—ëŸ¬ í™”ë©´ (v2)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          ì˜¤ë¥˜ ë°œìƒ                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚                           âš ï¸                                    â”‚
â”‚                                                                 â”‚
â”‚              ì„œë¹„ìŠ¤ ì—°ê²°ì— ë¬¸ì œê°€ ìˆìŠµë‹ˆë‹¤                         â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  ë¬¸ì œê°€ ì§€ì†ë˜ë©´ ì•„ë˜ ì •ë³´ì™€ í•¨ê»˜ ë¬¸ì˜í•´ì£¼ì„¸ìš”:            â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚  ì˜¤ë¥˜ ì½”ë“œ: ERR-2025011514302847                         â”‚   â”‚
â”‚  â”‚  ë°œìƒ ì‹œê°„: 2025-01-15 14:30:28                          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚  ë‹¤ì‹œ ì‹œë„     â”‚    â”‚       í™ˆìœ¼ë¡œ ëŒì•„ê°€ê¸°          â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                                 â”‚
â”‚                      [ê³ ê°ì„¼í„° ë¬¸ì˜í•˜ê¸°]                          â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.3 ì—ëŸ¬ ë¡œê¹… í”Œë¡œìš° (v2 ì‹ ê·œ)

```mermaid
sequenceDiagram
    participant C as í´ë¼ì´ì–¸íŠ¸
    participant A as API Server
    participant AL as audit_logs
    participant Sentry as Sentry

    C->>A: API ìš”ì²­
    A->>A: ì—ëŸ¬ ë°œìƒ

    par ê°ì‚¬ ë¡œê·¸ ê¸°ë¡
        A->>AL: INSERT INTO audit_logs<br/>(action='error', details={...})
    and Sentry ì „ì†¡
        A->>Sentry: captureException(error)
    end

    A->>A: ì—ëŸ¬ ì½”ë“œ ìƒì„±<br/>(ERR-{timestamp}{random})

    A-->>C: ì¼ë°˜í™”ëœ ì—ëŸ¬ ë©”ì‹œì§€<br/>+ ì—ëŸ¬ ì½”ë“œ

    Note over C: ì‚¬ìš©ìì—ê²ŒëŠ”<br/>ì¼ë°˜í™”ëœ ë©”ì‹œì§€ë§Œ í‘œì‹œ
    Note over AL,Sentry: ìƒì„¸ ì •ë³´ëŠ”<br/>ë‚´ë¶€ ì‹œìŠ¤í…œì—ë§Œ ê¸°ë¡
```

---

## 6. ë°˜ì‘í˜• ë””ìì¸ (v2)

### 6.1 ë¸Œë ˆì´í¬í¬ì¸íŠ¸

| ë””ë°”ì´ìŠ¤ | ë„ˆë¹„ | ë ˆì´ì•„ì›ƒ |
|----------|------|----------|
| Mobile | < 640px | 1 ì»¬ëŸ¼ |
| Tablet | 640px - 1024px | 2 ì»¬ëŸ¼ |
| Desktop | > 1024px | 3 ì»¬ëŸ¼ |

### 6.2 ëª¨ë°”ì¼ ì§ˆë¬¸ ë‹µë³€ í™”ë©´

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â—€  ì§ˆë¬¸ 15/40         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                         â”‚
â”‚  ê³ ê° í˜ë¥´ì†Œë‚˜ (4/8)     â”‚
â”‚                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ Q15. íƒ€ê²Ÿ ê³ ê°ì´    â”‚â”‚
â”‚  â”‚ ê°€ì¥ ë‘ë ¤ì›Œí•˜ëŠ”     â”‚â”‚
â”‚  â”‚ ê²ƒì€ ë¬´ì—‡ì¸ê°€ìš”?    â”‚â”‚
â”‚  â”‚                     â”‚â”‚
â”‚  â”‚ â“˜ ë„ì›€ë§ ë³´ê¸°       â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚                     â”‚â”‚
â”‚  â”‚ ë‹µë³€ì„ ì…ë ¥í•˜ì„¸ìš”...â”‚â”‚
â”‚  â”‚                     â”‚â”‚
â”‚  â”‚                     â”‚â”‚
â”‚  â”‚            [0/500]  â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                         â”‚
â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘  37.5%   â”‚
â”‚                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚      ë‹¤ìŒ â–¶        â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                         â”‚
â”‚  [ì„ì‹œì €ì¥] [ë‚˜ì¤‘ì—]     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 7. ì ‘ê·¼ì„± ì²´í¬ë¦¬ìŠ¤íŠ¸ (v2)

### 7.1 WCAG 2.1 AA ì¤€ìˆ˜ í•­ëª©

| í•­ëª© | ê¸°ì¤€ | v2 êµ¬í˜„ ìƒíƒœ |
|------|------|-------------|
| ìƒ‰ìƒ ëŒ€ë¹„ | 4.5:1 ì´ìƒ | âœ… êµ¬í˜„ ì™„ë£Œ |
| í‚¤ë³´ë“œ ë„¤ë¹„ê²Œì´ì…˜ | ëª¨ë“  ê¸°ëŠ¥ ì ‘ê·¼ | âœ… êµ¬í˜„ ì™„ë£Œ |
| ìŠ¤í¬ë¦° ë¦¬ë” | ARIA ë ˆì´ë¸” | âœ… êµ¬í˜„ ì™„ë£Œ |
| í¬ì»¤ìŠ¤ í‘œì‹œ | ëª…í™•í•œ ì‹œê°ì  í‘œì‹œ | âœ… êµ¬í˜„ ì™„ë£Œ |
| ì—ëŸ¬ ì‹ë³„ | ìƒ‰ìƒ ì™¸ ì¶”ê°€ í‘œì‹œ | âœ… êµ¬í˜„ ì™„ë£Œ |
| ì…ë ¥ ë„ì›€ë§ | ëª…í™•í•œ ë ˆì´ë¸”/ì•ˆë‚´ | âœ… êµ¬í˜„ ì™„ë£Œ |

### 7.2 í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤

| ë‹¨ì¶•í‚¤ | ê¸°ëŠ¥ | í˜ì´ì§€ |
|--------|------|--------|
| Tab | ë‹¤ìŒ ìš”ì†Œë¡œ ì´ë™ | ì „ì²´ |
| Shift + Tab | ì´ì „ ìš”ì†Œë¡œ ì´ë™ | ì „ì²´ |
| Enter | ë²„íŠ¼ í´ë¦­/í¼ ì œì¶œ | ì „ì²´ |
| Escape | ëª¨ë‹¬ ë‹«ê¸° | ëª¨ë‹¬ |
| Ctrl + S | ì„ì‹œ ì €ì¥ | ì§ˆë¬¸/í¸ì§‘ |
| Ctrl + Enter | ë‹¤ìŒ ë‹¨ê³„ | ì§ˆë¬¸ |

---

## 8. êµ¬í˜„ ì²´í¬ë¦¬ìŠ¤íŠ¸

### 8.1 ì¸ì¦ ê´€ë ¨ (v2 ë³€ê²½ ì‚¬í•­)

- [ ] HttpOnly Cookieë¡œ Refresh Token ì €ì¥
- [ ] Refresh Token Rotation êµ¬í˜„
- [ ] í† í° ì¬ì‚¬ìš© ê°ì§€ ë¡œì§ êµ¬í˜„
- [ ] ìŠ¹ì¸ ìƒíƒœ ë³€ê²½ ì‹œ ì„¸ì…˜ ë¬´íš¨í™” íŠ¸ë¦¬ê±°
- [ ] ê°•ì œ ë¡œê·¸ì•„ì›ƒ UI êµ¬í˜„
- [ ] ì¬ë¡œê·¸ì¸ ì•ˆë‚´ ë©”ì‹œì§€

### 8.2 Soft Delete ê´€ë ¨ (v2 ì‹ ê·œ)

- [ ] "ìµœê·¼ ì‚­ì œë¨" ì„¹ì…˜ UI êµ¬í˜„
- [ ] ë³µêµ¬ ë²„íŠ¼ ë° í™•ì¸ ëª¨ë‹¬
- [ ] ë‚¨ì€ ë³µêµ¬ ê¸°ê°„ í‘œì‹œ
- [ ] ì˜êµ¬ ì‚­ì œ í™•ì¸ ëª¨ë‹¬
- [ ] ì‚­ì œëœ í•­ëª© í•„í„°ë§ (ê¸°ë³¸ ëª©ë¡ì—ì„œ ì œì™¸)

### 8.3 ì—ëŸ¬ ì²˜ë¦¬ (v2 ë³€ê²½ ì‚¬í•­)

- [ ] ì—ëŸ¬ ë©”ì‹œì§€ ì¼ë°˜í™”
- [ ] ì—ëŸ¬ ì½”ë“œ ìƒì„± ë¡œì§
- [ ] audit_logs ì—°ë™
- [ ] Sentry ì—°ë™
- [ ] ì—ëŸ¬ í™”ë©´ UI êµ¬í˜„

### 8.4 AI ìƒì„± (v2 ë³€ê²½ ì‚¬í•­)

- [ ] 90ì´ˆ ê¸°ë³¸ íƒ€ì„ì•„ì›ƒ êµ¬í˜„
- [ ] ì§„í–‰ë¥  SSE ì—°ë™
- [ ] ë™ì  íƒ€ì„ì•„ì›ƒ ì—°ì¥ UI
- [ ] íƒ€ì„ì•„ì›ƒ ê²½ê³  ëª¨ë‹¬
- [ ] ì·¨ì†Œ/ê³„ì†ëŒ€ê¸° ì„ íƒ UI

---

## ë¶€ë¡: í™”ë©´ ì „í™˜ í”Œë¡œìš° ë§µ

```mermaid
flowchart TD
    Landing[ëœë”©í˜ì´ì§€] --> Login[ë¡œê·¸ì¸]
    Landing --> Signup[íšŒì›ê°€ì…]

    Signup --> EmailVerify[ì´ë©”ì¼ ì¸ì¦]
    EmailVerify --> PendingApproval[ìŠ¹ì¸ ëŒ€ê¸°]
    PendingApproval --> |ìŠ¹ì¸| Dashboard[ëŒ€ì‹œë³´ë“œ]
    PendingApproval --> |ê±°ë¶€| Rejected[ê°€ì… ê±°ë¶€]

    Login --> |ìŠ¹ì¸ëœ ì‚¬ìš©ì| Dashboard
    Login --> |ë¯¸ìŠ¹ì¸| PendingApproval

    Dashboard --> NewLP[ìƒˆ LP ë§Œë“¤ê¸°]
    Dashboard --> EditLP[LP í¸ì§‘]
    Dashboard --> DeletedLP[ì‚­ì œëœ LP]

    NewLP --> Questions[40ê°œ ì§ˆë¬¸]
    Questions --> |ì™„ë£Œ| Generating[AI ìƒì„± ì¤‘]
    Generating --> |ì„±ê³µ| Preview[ë¯¸ë¦¬ë³´ê¸°]
    Generating --> |ì‹¤íŒ¨| Error[ì—ëŸ¬ í™”ë©´]

    Preview --> Edit[í¸ì§‘í•˜ê¸°]
    Preview --> Publish[ë°°í¬í•˜ê¸°]

    Edit --> Preview
    Publish --> PublishedLP[ë°°í¬ëœ LP]

    DeletedLP --> |ë³µêµ¬| Dashboard
    DeletedLP --> |ì˜êµ¬ì‚­ì œ| Dashboard

    subgraph "v2 ì‹ ê·œ í”Œë¡œìš°"
        ApprovalChange[ìŠ¹ì¸ ìƒíƒœ ë³€ê²½] --> ForceLogout[ê°•ì œ ë¡œê·¸ì•„ì›ƒ]
        ForceLogout --> Login
    end
```
